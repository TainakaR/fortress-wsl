# インフラセキュリティ要塞化 実践指導書

## 1. 目的と完成条件の定義

### 1.1 実習の目的

本実習では、Webサーバー（Apache）の構築と、サーバー管理用通信（SSH）の段階的な要塞化（ハードニング）を行います。

初学者が実際に手を動かしながら、以下のインフラセキュリティの基本を体感し、理解することを目的としています。

* **アクセス制御:** ファイアウォール（UFW）を用いて、必要な通信だけを許可し、不要な通信を遮断する。
* **権限の分離:** 管理者と一般ユーザーの権限の違いを理解し、重要ファイルを守る。
* **認証強化:** パスワード認証の脆弱性を体験した上で、安全な「公開鍵認証」へと移行する。

### 1.2 完成条件（ゴール）

本実習が完了したとみなすための「判定可能な条件」は以下の3点です。最後にこれらすべてを満たしているかを確認します。

1. **Webサービスの正常稼働（公開アクセスの確認）**
* ホスト（Windows等）のブラウザから `http://localhost/health.html` にアクセスした際、画面に `OK` と表示されること。


2. **管理者によるセキュアなログイン（認証強化の確認）**
* 管理者ユーザー（自分）が、SSH鍵認証を用いて**パスワードを入力せずに**ログインできること。


3. **不正なログイン試行の完全遮断（要塞化の確認）**
* 意図的に作成したテスト用一般ユーザー（`guestuser`）が、正しいパスワードを知っていても、SSHでのログインを**即座に拒否（Permission denied）されること**。


